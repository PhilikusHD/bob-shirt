<UserControl xmlns="https://github.com/avaloniaui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:local="using:Bob.Core"
			 x:Class="Bob.Core.ProductDetailView">
	<Border Background="#44000000" Padding="20" CornerRadius="8">
		<Grid ColumnDefinitions="250,*" RowDefinitions="Auto,*">
			<!-- Column 0 = Image -->
			<Border Grid.Column="0" Width="250" Height="250" Background="#22000000" CornerRadius="4">
				<Image Source="{Binding Img}" HorizontalAlignment="Center" VerticalAlignment="Center" Width="250" Height="250"/>
			</Border>

			<!-- Column 1 = Product info -->
			<StackPanel Grid.Column="1" Margin="20,0,0,0" Spacing="10">
				<!-- Product Name -->
				<TextBlock Text="{Binding Name}" FontSize="28" Foreground="White" FontWeight="Bold"/>

				<!-- Selected Variant Info -->
				<StackPanel Spacing="4" Background="#22000000">

					<TextBlock FontSize="14" Margin="8,4,8,4">
						<Run Text="Farbe: " />
						<Run Text="{Binding SelectedVariant.Color}" />
					</TextBlock>


					<TextBlock FontSize="14" Margin="8,4,8,4">
						<Run Text="Groesse: " />
						<Run Text="{Binding SelectedVariant.Size}" />
					</TextBlock>

					<TextBlock FontSize="14" Margin="8,4,8,4">
						<Run Text="Preis: " />
						<Run Text="{Binding SelectedVariant.FinalPrice, StringFormat=C}" />
					</TextBlock>

					<TextBlock FontSize="14" Margin="8,4,8,4">
						<Run Text="Auf Lager: " />
						<Run Text="{Binding SelectedVariant.Stock}" />
					</TextBlock>
				</StackPanel>

				<!-- Variant selectors -->
				<ItemsControl ItemsSource="{Binding Variants}">
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<Border Background="#33000000" Padding="10" Margin="0,5,0,5" CornerRadius="6">
								<StackPanel Orientation="Horizontal" Spacing="10">
									<ComboBox Width="100"
											  ItemsSource="{Binding AvailableColors}"
											  SelectedItem="{Binding Color, Mode=TwoWay}"/>
									<ComboBox Width="100"
											  ItemsSource="{Binding AvailableSizes}"
											  SelectedItem="{Binding Size, Mode=TwoWay}"/>
								</StackPanel>
							</Border>
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>

				<Button x:Name="AddToCartButton" Width="140" Height="100" Margin="80,1,0,0" HorizontalAlignment="Center" VerticalAlignment="Top" Background="Transparent" BorderThickness="0" Padding="0" Command="{Binding AddToCartCommand}">
					<Button.Styles>
						<Style Selector="Button">
							<Setter Property="IsVisible"
									Value="{Binding ShowCart, RelativeSource={RelativeSource AncestorType=local:ProductDetailView}}" />
						</Style>
					</Button.Styles>

					<Image Source="/assets/cart.png"
						   Stretch="Uniform"
						   HorizontalAlignment="Center"
						   VerticalAlignment="Center"
						   Margin="10,135,-250,0"
						   Width="450"
						   Height="340"/>
				</Button>
			</StackPanel>
		</Grid>
	</Border>
</UserControl>
